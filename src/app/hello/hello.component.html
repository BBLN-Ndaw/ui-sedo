<div class="hello-container">
  <mat-toolbar color="primary" class="main-toolbar">
    <span class="toolbar-title">
      <mat-icon>home</mat-icon>
      UI-SEDO Dashboard
    </span>
    <span class="toolbar-spacer"></span>
    <button mat-icon-button (click)="logout()" matTooltip="Se déconnecter">
      <mat-icon>logout</mat-icon>
    </button>
  </mat-toolbar>

  <div class="content-container">
    <div class="welcome-section">
      <mat-card class="welcome-card">
        <mat-card-header>
          <div mat-card-avatar class="welcome-avatar">
            <mat-icon>waving_hand</mat-icon>
          </div>
          <mat-card-title>Bienvenue !</mat-card-title>
          <mat-card-subtitle>Vous êtes connecté avec succès</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <div class="info-section">
            <div class="time-display">
              <mat-icon>schedule</mat-icon>
              <span>{{ currentTime }}</span>
            </div>
            
            <div class="token-section" *ngIf="token">
              <h3>Informations de session</h3>
              <mat-chip-set>
                <mat-chip color="accent" selected>
                  <mat-icon matChipAvatar>security</mat-icon>
                  Token JWT Active
                </mat-chip>
              </mat-chip-set>
              
              <div class="token-display">
                <strong>Token (extrait):</strong>
                <code>{{ token.substring(0, 50) }}...</code>
              </div>
            </div>
          </div>
        </mat-card-content>
        
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="makeApiCall()">
            <mat-icon>api</mat-icon>
            Tester API avec Token
          </button>
          <button mat-stroked-button color="warn" (click)="logout()">
            <mat-icon>logout</mat-icon>
            Se déconnecter
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div class="features-section">
      <h2>Fonctionnalités disponibles</h2>
      <div class="features-grid">
        <mat-card class="feature-card">
          <mat-card-header>
            <div mat-card-avatar class="feature-avatar green">
              <mat-icon>security</mat-icon>
            </div>
            <mat-card-title>Authentification</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Système d'authentification JWT sécurisé avec stockage local du token.</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="feature-card">
          <mat-card-header>
            <div mat-card-avatar class="feature-avatar orange">
              <mat-icon>http</mat-icon>
            </div>
            <mat-card-title>API Calls</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Appels API automatiques avec headers d'authentification configurés.</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="feature-card">
          <mat-card-header>
            <div mat-card-avatar class="feature-avatar green">
              <mat-icon>palette</mat-icon>
            </div>
            <mat-card-title>Design Material</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Interface utilisateur moderne avec Angular Material et thème personnalisé.</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="feature-card">
          <mat-card-header>
            <div mat-card-avatar class="feature-avatar orange">
              <mat-icon>route</mat-icon>
            </div>
            <mat-card-title>Routing</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Navigation protégée avec guards d'authentification et redirections automatiques.</p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>
