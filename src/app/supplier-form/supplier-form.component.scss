@use '../../styles/responsive.scss' as *;

.supplier-form-container {
  @extend .container-responsive;
  @extend .p-responsive;
}

.form-card {
  @extend .card-responsive;

  .title-icon {
    margin-right: 8px;
    vertical-align: middle;

    @include mobile {
      margin-right: 6px;
    }
  }
}

.loading-container {
  @extend .flex-responsive;
  
  & {
    text-align: center;
    padding: var(--space-2xl);
  }
  
  & {
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  
  p {
    color: var(--color-gray-600);
    margin-top: var(--space-md);
  }
}

.form-section {
  margin-bottom: var(--space-2xl);

  .section-title {
    @extend .flex-responsive;
    @include h3-responsive;
    
    & {
      align-items: center;
      margin: 0 0 var(--space-md) 0;
      font-weight: 500;
      color: var(--color-gray-800);
    }

    mat-icon {
      color: var(--color-gray-600);
      margin-right: var(--space-xs);
    }
  }

  mat-divider {
    margin-bottom: var(--space-xl);
  }
}

.form-row {
  @extend .flex-responsive;
  
  & {
    gap: var(--space-md);
    margin-bottom: var(--space-md);
  }
  
  @include mobile-tablet {
    flex-direction: column;
    gap: 0;
  }

  .full-width {
    width: 100%;
  }

  .half-width {
    flex: 1;
  }

  .quarter-width {
    flex: 0 0 calc(25% - 12px);

    @include mobile-tablet {
      flex: 1;
    }
  }
}

// Actions du formulaire
.form-actions {
  @extend .flex-responsive;
  
  & {
    justify-content: flex-end;
    gap: var(--space-md);
    margin-top: var(--space-2xl);
    padding-top: var(--space-xl);
    border-top: 1px solid var(--color-gray-200);
  }

  @include mobile-tablet {
    flex-direction: column-reverse;
    gap: var(--space-sm);

    button {
      width: 100%;
    }
  }
}

// Styles pour les champs de formulaire
.mat-mdc-form-field {
  &.full-width {
    width: 100%;
  }

  .mat-mdc-select-panel {
    max-height: 300px;
  }
}

// Checkbox personnalisée
.mat-mdc-checkbox {
  margin: 8px 0;
}

// Responsive avec les nouveaux mixins
@include mobile {
  .supplier-form-container {
    padding: var(--space-xs);
  }
}

// Animation pour les erreurs
.mat-mdc-form-field-error {
  animation: shake 0.3s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

// Amélioration de l'accessibilité
.mat-mdc-button,
.mat-mdc-checkbox {
  &:focus {
    outline: 2px solid #1976d2;
    outline-offset: 2px;
  }
}

// Spinner dans le bouton
.mat-mdc-button {
  .mat-mdc-progress-spinner {
    margin-right: 8px;
  }
}